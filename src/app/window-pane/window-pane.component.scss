// our background image.
// will be used for the window as well as
// the raindrops themselves
// $image: 'https://i.imgur.com/xQdYC7x.jpg';
$image: 'http://vignette3.wikia.nocookie.net/animal-jam-clans-1/images/b/b7/Dark-Misty-Forest-beautiful-landscapes-37729157-1920-1080.jpg';


// container width and height.
// 100vw/vh so it fills the entire window
$width:100vw;
$height:100vh;

//number of raindrops
$raindrops:75;

$blur: 10px;

.window-pane-container{
  z-index: 5;
}

.pics-container {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
}

.polaroid {
	position: relative;
	background: #dbdbdb;
	padding: 1vw;
	text-align: center;
  transform: translateX(-10%) translateY(-15%) rotate(3deg);
	box-shadow: 1px 1px 3px #222;

  span {
    font-family: Cedarville,Yorkten,Arial,sans-serif;
    font-size: 1.4vw;
  }
}
.polaroid:last-of-type {
  transform: translateX(-20%) translateY(25%) rotate(-8deg)
}

#tajikistan {
  background-image: url('assets/pics/Photo_tajikistan.jpg');
}

#dominicana {
  background-image: url('assets/pics/Photo_dominicana.jpg');
}

.photo {
    background-size: cover;
    background-position: 50% 50%;
    width: 15vw;
    height: 15vw;
    box-shadow: inset 0 0 10px #000;

}

// img {
//   position: absolute;
//   top: 50%;
//   left: 50%;
//   // transform: translate(-50%, -50%);
//   // transform: translateZ(.25px) scale(.75) translateX(-50%) translateY(-100%) rotate(2deg);
//
//   width: 40vw;
//   transform: translateX(-50%) translateY(-75%) rotate(3deg);
//   padding: 10px;
//   border-radius: 5px;
//   background: rgba(240,230,220, .7);
//   box-shadow: 0 0 8px rgba(0, 0, 0, .7);
// }
//


.window{
  position:absolute;
  width: calc(#{$width} + 4*#{$blur});
  height: calc(#{$height} + 4*#{$blur});
  background:url($image);
  background-size:cover;
  background-position:50%;
  filter:blur($blur);
  margin: calc(-2*#{$blur});
}
// set all the containers to
// position:absolute, since
// they will overlap
.raindrops,
.borders,
.drops{
  position:absolute;
}

.raindrops {
  top: 0;
}

// little brightness filter so our raindrops look shiny
.drops{
  filter:brightness(1.2);
}

// general settings for all the
// raindrops and borders
.raindrop{
	position:absolute;
  border-radius:100%;
	background-image:url($image);
	background-size:$width*0.05 $height*0.05;
  background-position:50%;
	transform:rotate(180deg) rotateY(0);
}
.border{
	position:absolute;
	margin-left:2px;
	margin-top:1px;
	border-radius:100%;
	box-shadow:0 0 0 2px rgba(0,0,0,0.5);
  transform:rotateY(0);
}

// looping through each one of them
@for $i from 1 through $raindrops{

  // generates a random number from 0 to 1, for the positioning
  $x:random();
  $y:random();

  // Random raindrop size and stretching.
  // Since each raindrop has different sizes, we'll do our sizing calculations here instead of on the main .raindrop selector
 	$drop-width:5px+random(11);
 	$drop-stretch:0.7+(random()*0.5);
	$drop-height:$drop-width*$drop-stretch;
	.raindrop:nth-child(#{$i}){
		// multiply the random position value by the container's size
		left:$x * $width;
		top:$y * $height;

		width:$drop-width;
		height:$drop-height;
    background-position:percentage($x) percentage($y);
	}

	.border:nth-child(#{$i}){
		// we'll do the same positioning for the drop's border
		left:$x * $width;
		top:$y * $height;

		width:$drop-width - 4;
		height:$drop-height;
	}
}
